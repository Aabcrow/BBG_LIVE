<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record model="ir.module.category" id="module_category_employee_payment_extra_rights">
        <field name="name">Employee Payments</field>
        <field name="parent_id" ref="base.module_category_usability"/>
        <field name="sequence">60</field>
    </record>

    <record id="group_payment_submit" model="res.groups">
        <field name="name">Submit</field>
        <field name="category_id" ref="module_category_employee_payment_extra_rights"/>
    </record>
    <record id="group_payment_approbation_1" model="res.groups">
        <field name="name">Approbation 1</field>
        <field name="category_id" ref="module_category_employee_payment_extra_rights"/>
    </record>
    <record id="group_payment_approbation_2" model="res.groups">
        <field name="name">Approbation 2</field>
        <field name="category_id" ref="module_category_employee_payment_extra_rights"/>
    </record>



    <!--    security Rules-->

    <record model="ir.rule" id="employee_payment_submit_rule">
        <field name="name">Employee Payment : Submission rules</field>
        <field name="model_id" ref="model_employee_voucher"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('state','in',('draft','submitted'))]</field>
        <field name="groups" eval="[(4, ref('group_payment_submit'))]"/>
    </record>
    <record model="ir.rule" id="employee_payment_approval_1_rule">
        <field name="name">Employee Payment : Approval Lvl 1 rules</field>
        <field name="model_id" ref="model_employee_voucher"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('state','in',('submitted','confirm','cancel'))]</field>
        <field name="groups" eval="[(4, ref('group_payment_approbation_1'))]"/>
    </record>
    <record model="ir.rule" id="employee_payment_approval_2_rule">
        <field name="name">Employee Payment : Approval Lvl 2 rules</field>
        <field name="model_id" ref="model_employee_voucher"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('state','in',('confirm','done','cancel'))]</field>
        <field name="groups" eval="[(4, ref('group_payment_approbation_2'))]"/>
    </record>


</odoo>
